{% extends "layout.html" %}

{% block title %}
    Change password
{% endblock %}

{% block main %}
<!-- script for prompts -->
<script>
        function validateForm() {
            var z = document.forms["myForm"]["password"].value;
            var x = document.forms["myForm"]["new_pw1"].value;
        	var y = document.forms["myForm"]["new_pw2"].value;
                if (z == "") {
                    alert("You must fill in your old password");
                    return false;
                }
                if (x != y) {
                    alert("Unfortunately the passwords did not match");
                    return false;
                }
            	else {
            	    alert("Succes! Your password was changed")
            		return true;
                }
            }
    </script>

<form name="myForm" action="{{ url_for('changepassword') }}" onsubmit="return validateForm()" method="post">
    <div class="container">
        <div class="row transparent">
            <div class="col-sm-4 offset-4">
                <div class="tuyin first">

                    <!-- html code for fields and ref to script and python -->
                        <div class="form-group">
                            <label class="question-label"><h5>Fill in your old password here:</h5></label>
                            <input autocomplete="off" autofocus class="form-control" name="password" placeholder="Old password" type="password" required="required"/>
                        </div>
                        <div class="form-group">
                            <label class="question-label"><h5>Fill in your new password here:</h5></label>
                            <input autocomplete="off" autofocus class="form-control" name="new_pw1" placeholder="New password" type="password" required="required"/>
                        </div>
                        <div class="form-group">
                            <label class="question-label"><h5>Repeat your new password here:</h5></label>
                            <input autocomplete="off" autofocus class="form-control" name="new_pw2" placeholder="Repeat new password" type="password" required="required"/>
                        </div>
                        <div class="form-group">
                            <button type="submit" value="Submit" class="btn play-btn btn-default btn-pswd btn-outline-light">Change password</button>
                        </div>

                </div>
            </div>
        </div>
    </div>
</form>
{% endblock %}

<!-- Documentation:
https://www.w3schools.com/js/js_validation.asp -->
